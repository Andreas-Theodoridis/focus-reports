CREATE TABLE USAGE.OCW23_PROMPTS 
    ( 
     ID       NUMBER GENERATED BY DEFAULT AS IDENTITY 
        ( START WITH 1 CACHE 20 ) , 
     CONV_ID  NUMBER  NOT NULL , 
     PROMPT   VARCHAR2 (4000) , 
     RESPONSE CLOB , 
     ASKED_ON TIMESTAMP , 
     SHOWSQL  VARCHAR2 (4000) 
    ) 
    TABLESPACE DATA 
    LOGGING 
;


CREATE INDEX USAGE.PROMPTS_I1 ON USAGE.OCW23_PROMPTS 
    ( 
     CONV_ID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

CREATE UNIQUE INDEX USAGE.PROMPTS_ID_PK ON USAGE.OCW23_PROMPTS 
    ( 
     ID ASC 
    ) 
    TABLESPACE DATA 
    LOGGING 
;

ALTER TABLE USAGE.OCW23_PROMPTS 
    ADD CONSTRAINT PROMPTS_ID_PK PRIMARY KEY ( ID ) 
    USING INDEX USAGE.PROMPTS_ID_PK ;

ALTER TABLE USAGE.OCW23_PROMPTS 
    ADD CONSTRAINT PROMPTS_CONV_ID_FK FOREIGN KEY 
    ( 
     CONV_ID
    ) 
    REFERENCES USAGE.OCW23_CONVERSATIONS ( ID ) 
    ON DELETE CASCADE 
    NOT DEFERRABLE 
;